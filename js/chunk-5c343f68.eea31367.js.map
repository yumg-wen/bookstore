{"version":3,"sources":["webpack:///./src/assets/imgs/7.jpg","webpack:///./src/views/profile/profile.vue","webpack:///./src/views/profile/profile.vue?1c13","webpack:///./src/network/user.js","webpack:///./src/views/profile/profile.vue?9564","webpack:///./node_modules/core-js/modules/es.function.name.js"],"names":["module","exports","id","class","_createElementVNode","src","_imports_0","alt","style","_createElementBlock","_createVNode","_component_nav_bar","default","_hoisted_6","_toDisplayString","_ctx","name","mail","_hoisted_8","onClick","$setup","_hoisted_10","_component_van_icon","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_component_van_button","round","type","color","components","navBar","setup","router","useRouter","store","useStore","state","reactive","user","onMounted","getUser","then","res","toLogout","logout","status","success","window","localStorage","setItem","commit","setTimeout","push","path","goTo","query","toRefs","__exports__","render","register","data","request","url","method","login","DESCRIPTORS","FUNCTION_NAME_EXISTS","EXISTS","uncurryThis","defineProperty","f","FunctionPrototype","Function","prototype","functionToString","toString","nameRE","regExpExec","exec","NAME","configurable","get","this","error"],"mappings":"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","file":"js/chunk-5c343f68.eea31367.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/7.a88a9533.jpg\";","<template>\r\n<div id=\"box\">\r\n   <nav-bar>\r\n    <template v-slot:default>個人中心</template>\r\n  </nav-bar>\r\n  <div class=\"user-box\">\r\n    <div class=\"user-info\">\r\n      <div class=\"info\">\r\n       <img src=\"~assets/imgs/7.jpg\" alt=\"\">\r\n       <div class=\"user-desc\">\r\n         <span>暱稱:{{user.name}}</span>\r\n         <span>登入名:{{user.mail}}</span>\r\n         <span class=\"name\">個性簽名:我的購物我做主!!</span>\r\n       </div>\r\n      </div>\r\n    </div>\r\n    <ul class=\"user-list\">\r\n      <li class=\"van-hairline--bottom\" @click=\"goTo('/collect')\">\r\n        <span>我的收藏</span>\r\n        <van-icon name=\"arrow\" />\r\n      </li>\r\n      <li class=\"van-hairline--bottom\" @click=\"goTo('/order')\">\r\n        <span>我的訂單</span>\r\n        <van-icon name=\"arrow\" />\r\n      </li>\r\n      <li class=\"van-hairline--bottom\" @click=\"goTo('/settig')\">\r\n        <span>帳號管理</span>\r\n        <van-icon name=\"arrow\" />\r\n      </li>\r\n      <li class=\"van-hairline--bottom\" @click=\"goTo('/address')\">\r\n        <span>地址管理</span>\r\n        <van-icon name=\"arrow\" />\r\n      </li>\r\n      <li class=\"van-hairline--bottom\" @click=\"goTo('/about')\">\r\n        <span>關於我們</span>\r\n        <van-icon name=\"arrow\" />\r\n      </li>\r\n    </ul>\r\n  </div>\r\n  <div style=\"margin:16px\">\r\n     <van-button round  type=\"primary\"\r\n      color=\"var(--color-tint)\"\r\n      @click=\"toLogout\"\r\n     >退出</van-button>\r\n  </div>\r\n</div>\r\n  \r\n</template>\r\n\r\n<script>\r\nimport navBar from 'components/common/navbar/NavBar.vue'\r\nimport {logout,getUser} from 'network/user.js'\r\nimport { Toast } from 'vant'\r\nimport {useRouter} from 'vue-router'\r\nimport {useStore} from 'vuex'\r\nimport {onMounted, reactive,toRefs} from 'vue'\r\nexport default {\r\n  name:'Profile',\r\n  components:{navBar},\r\n  setup(){\r\n    const router=useRouter()\r\n    const store=useStore()\r\n    // 個人訊息的狀態管理\r\n    const state=reactive({\r\n      user:{\r\n\r\n      }\r\n    })\r\n     onMounted(()=>{\r\n         getUser().then(res=>{\r\n           state.user=res\r\n         })\r\n        })\r\n    const toLogout=()=>{\r\n      logout().then(res=>{\r\n        if(res.status=='204'){\r\n          Toast.success('已登出');\r\n          //清除token\r\n          window.localStorage.setItem('token',\"\")\r\n          \r\n          store.commit('setIsLogin',false)\r\n\r\n          setTimeout(()=>{\r\n              router.push({path:\"/login\"})\r\n          },0)\r\n\r\n        }\r\n        })\r\n    }\r\n     //共同跳轉方法(path:路徑,query:參數)\r\n        const goTo = (path,query)=>{\r\n          router.push({path,query:query||{}})\r\n        }\r\n    return{toLogout,getUser,...toRefs(state),goTo}\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n<style lang='less' scoped>\r\n#box{\r\n  background: #fcfcfc;\r\n  height: 100vh;\r\n  .user-box{\r\n  margin-top: 65px;\r\n  .user-header{\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    z-index: 9999;\r\n    width: 100%;\r\n    height: 44px;\r\n    line-height: 44px;\r\n    padding: 0 44px;\r\n    color: var(--color-tint);\r\n    background: #fff;\r\n    border-bottom: 1px solid #dcdcdc;\r\n    .user-name{\r\n      font-size: 14px;\r\n    }\r\n  }\r\n  .user-info{\r\n    width: 94%;\r\n    margin: 10px;\r\n    height: 115px;\r\n    background: linear-gradient(to right,#31c7a7,#A1c7c7);\r\n    box-shadow: 0 2px 5px #269090;\r\n    border-radius: 6px;\r\n    margin-top: 50px;\r\n    text-align: left;\r\n    .info{\r\n      position: relative;\r\n      display: flex;\r\n      width: 100%;\r\n      height: 100%;\r\n      padding: 25px 20px;\r\n      img{\r\n        width: 60px;\r\n        height: 60px;\r\n        border-radius: 50%;\r\n        margin-top: 4px;\r\n      }\r\n      .user-desc{\r\n        display: flex;\r\n        flex-direction: column;\r\n        margin-left: 10px;\r\n        line-height: 20px;\r\n        font-size: 14px;\r\n        color:rgb(73, 69, 69);\r\n        span{\r\n          display:inline-block;\r\n          color: rgb(46, 44, 44);\r\n          font-size: 14px;\r\n          padding: 2px 0;\r\n        }\r\n      }\r\n      .account-setting{\r\n        position: absolute;\r\n        top: 10px;\r\n        right: 20px;\r\n        font-size: 13px;\r\n        color: #fff;\r\n        .van-icon-setting-o{\r\n          font-size: 16px;\r\n          vertical-align: -3px;\r\n          margin-right: 4px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .user-list{\r\n    padding: 0 8px;\r\n    margin-top: 40px;\r\n    li{\r\n      padding:0 5px;\r\n      height: 40px;\r\n      line-height: 40px;\r\n      display: flex;\r\n      justify-content:space-between;\r\n      font-size: 14px;\r\n      .van-icon-arrow{\r\n        margin-top: 13px;\r\n      }\r\n      margin: 20px 0 !important;\r\n      background: #fff;\r\n      border-radius: 3px;\r\n    }\r\n  }\r\n}\r\n}\r\n\r\n</style>","import { render } from \"./profile.vue?vue&type=template&id=c0250be8&scoped=true\"\nimport script from \"./profile.vue?vue&type=script&lang=js\"\nexport * from \"./profile.vue?vue&type=script&lang=js\"\n\nimport \"./profile.vue?vue&type=style&index=0&id=c0250be8&lang=less&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\meime\\\\OneDrive\\\\Desktop\\\\book\\\\book-store\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-c0250be8\"]])\n\nexport default __exports__","import {request} from './request.js'\r\n\r\n// 獲取註冊資訊 register()\r\nexport function register(data){\r\n return request({\r\n     url:'/api/auth/register',\r\n     method:'post',\r\n     data,\r\n    // 簡寫data:data\r\n  })\r\n}\r\n// 返回狀態 (https://www.showdoc.com.cn/1207745568269674/6090123481636428)\r\n// 狀態碼 201 創建成功\r\n// 狀態碼 422 參數錯誤\r\n\r\n// 獲取登入資訊 login() \r\n//  https://www.showdoc.com.cn/1207745568269674/6090123591593835\r\nexport function login(data){\r\n  return request({\r\n      url:'/api/auth/login',\r\n      method:'post',\r\n      data,\r\n     // 簡寫data:data\r\n   })\r\n }\r\n // 狀態碼 200 登入成功\r\n // 狀態碼 422 參數錯誤\r\n\r\n //退出\r\n export function logout(data){\r\n  return request({\r\n      url:'/api/auth/logout',\r\n      method:'post',\r\n      \r\n   })\r\n }\r\n //用戶個人訊息  https://www.showdoc.com.cn/1207745568269674/6090133286102831\r\n export function getUser(data){\r\n  return request({\r\n      url:'/api/user',\r\n      \r\n      \r\n   })\r\n }","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./profile.vue?vue&type=style&index=0&id=c0250be8&lang=less&scoped=true\"","var DESCRIPTORS = require('../internals/descriptors');\nvar FUNCTION_NAME_EXISTS = require('../internals/function-name').EXISTS;\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar functionToString = uncurryThis(FunctionPrototype.toString);\nvar nameRE = /function\\b(?:\\s|\\/\\*[\\S\\s]*?\\*\\/|\\/\\/[^\\n\\r]*[\\n\\r]+)*([^\\s(/]*)/;\nvar regExpExec = uncurryThis(nameRE.exec);\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !FUNCTION_NAME_EXISTS) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return regExpExec(nameRE, functionToString(this))[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n"],"sourceRoot":""}